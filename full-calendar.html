<link rel="import" href="../polymer/polymer-element.html">

<script src="../jquery/dist/jquery.min.js"></script>
<script src="../moment/min/moment.min.js"></script>
<script src="../fullcalendar/dist/fullcalendar.min.js"></script>


<dom-module id="full-calendar">
  <link rel="import" type="css" href="../fullcalendar/dist/fullcalendar.min.css">
  <template>
    <style>
       :host {
        display: block;
      }
    </style>
    <div id="calendar"></div>
  </template>

  <script>
    /**
     * `full-calendar`
     * A Web Component wrapper for FullCalendar library that uses Polymer version 2.0 and ES6.
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class FullCalendar extends Polymer.Element {
      static get is() { return 'full-calendar'; }
      static get properties() {
        return {
          header: Object,
          events: Array,
          weekends: Boolean,
          rtl:Boolean,
          hiddenDays: Array,
          fixedWeekCount: Boolean,
          weekNumbers: {
            type:Boolean,
            value:true
          },
          businessHours: Object,
          height: Number,
          defaultDate: Object,
          editable: Boolean,
          droppable: Boolean,
          ventStartEditable: Boolean,
          eventDurationEditable: Boolean,
          defaultView: {
            type: String,
            value: 'month'
          },
          allDaySlot: {
            type: Boolean,
            value: true
          },
          allDayText: {
            type: String,
            value: 'all-day'
          },
          slotDuration: {
            type: String,
            value: '00:30:00'
          },
          slotLabelInterval: Object,
          snapDuration: Object,
          scrollTime: {
            type: String,
            value: '06:00:00'
          },
          minTime: {
            type: String,
            value: '00:00:00'
          },
          maxTime: {
            type: String,
            value: '24:00:00'
          },
          slotEventOverlap: {
            type: Boolean,
            value: true
          },
          nowIndicator: Boolean,
          dragRevertDuration: {
            type: Number,
            value: 500
          },
          dragOpacity: {
            type: Number,
            value: .75
          },
          dragScroll: {
            type: Boolean,
            value: true
          },
          eventOverlap: Object,
          eventConstraint: Object,
          locale: String,
          timezone: Boolean,
          timeFormat: String,
          eventRender: {
            type: Object,
            value: () => { }
          },
          dayRender: {
            type: Object,
            value: () => { }
          },
          options: Object,
          _config: Object
        };
      }
      /**
      * ready callback
      */
      ready() {
        super.ready();
        // Construct calendar's config object
        this._config = {
          theme: false,
          header: this.header,
          isRTL: this.rtl,
          weekends: this.weekends,
          hiddenDays: this.hiddenDays,
          fixedWeekCount: this.fixedWeekCount,
          weekNumbers: this.weekNumbers,
          businessHours: this.businessHours,
          height: this.height,
          contentHeight: this.contentHeight,
          aspectRatio: this.aspectRatio,
          eventLimit: this.eventLimit,
          defaultDate: this.defaultDate,
          locale: this.locale,
          timezone: this.timezone,
          timeFormat: this.timeFormat,
          editable: this.editable,
          droppable: this.droppable,
          eventStartEditable: this.eventStartEditable,
          eventDurationEditable: this.eventDurationEditable,
          defaultView: this.defaultView,
          allDaySlot: this.allDaySlot,
          allDayText: this.allDayText,
          slotDuration: this.slotDuration,
          slotLabelInterval: this.slotLabelInterval,
          snapDuration: this.snapDuration,
          scrollTime: this.scrollTime,
          minTime: this.minTime,
          maxTime: this.maxTime,
          slotEventOverlap: this.slotEventOverlap,
          nowIndicator: this.nowIndicator,
          dragRevertDuration: this.dragRevertDuration,
          dragOpacity: this.dragOpacity,
          dragScroll: this.dragScroll,
          eventOverlap: this.eventOverlap,
          eventConstraint: this.eventConstraint,
          eventRender: this.eventRender,
          dayRender: this.dayRender
        }
        let calendar = this.$.calendar;
        //initialize fullCalendar component
        jQuery(calendar).fullCalendar(this._config);
      }
    }

    window.customElements.define(FullCalendar.is, FullCalendar);
  </script>
</dom-module>